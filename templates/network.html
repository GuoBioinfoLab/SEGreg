<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1,user-scalable=no">

{#  <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">#}
{#	<script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>#}
	<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>


{#    <link rel="stylesheet" type = "text/css" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">#}
    <link rel="stylesheet" type="text/css" href="/static/SEGreg/css/docs.min.css">
    <link rel="stylesheet" type = "text/css" href="/static/SEGreg/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="/static/SEGreg/css/jquery.tablesorter.pager.min.css">
    <link rel="stylesheet" type = "text/css" href="/static/SEGreg/css/main.css">

{#    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>#}
    <script src="/static/SEGreg/js/bootstrap.min.js"></script>
    <script src="/static/SEGreg/lib/jquery/jquery-3.1.1.min.js"></script>
    <script src="/static/SEGreg/js/jquery.tablesorter.min.js"></script>
    <script src="/static/SEGreg/js/jquery.tablesorter.widgets.min.js"></script>
    <script src="/static/SEGreg/js/jquery.tablesorter.pager.min.js"></script>
    <script src="/static/SEGreg/js/respond.min.js"></script>
    <script src="/static/SEGreg/js/html5shiv.js"></script>

    <script src="/static/SEGreg/lib/bootstrap/bootstrap.js"></script>
    <link rel="icon" href="/static/SEGreg/images/SEGreglogo.png">

    <link rel="stylesheet" href="/static/SEGreg/css/bootstrap.css">
    <link rel="stylesheet" href="/static/SEGreg/css/theme.bootstrap.css">


    <title>Regulatory network</title>
</head>

<body>
<div class="container"><a href="/SEGreg/" target="_self"><img src="/static/SEGreg/images/SEGreglogo.jpg" alt="editingLogo" id="logo-banner" width="100%" ></a></div>
<br/><br/>
<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
    <div class="container">
        <nav class="collapse navbar-collapse" id="bs-navbar">
            <ul class="nav navbar-nav">
                <li ><a href="/SEGreg/">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Browse<span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="/SEGreg/TCGA" target="_self">TCGA</a></li>
                        <li><a href="/SEGreg/BodyMap" target="_self">BodyMap</a></li>
                        <li><a href="/SEGreg/CCLE" target="_self">CCLE</a></li>
                        <li><a href="/SEGreg/GTEx" target="_self">GTEx</a></li>
                    </ul>
                </li>
{#                <li ><a href="">Browse</a></li>#}
                <li><a href="/SEGreg/search" target="_self">Search</a></li>
                <li ><a href="/SEGreg/statistics" target="_self">Statistics</a></li>
                <li><a href="/SEGreg/download" target="_self">Download</a></li>
                <li><a href="/SEGreg/help" target="_self">Help</a></li>
                <li><a href="/SEGreg/contact" target="_self">Contact us</a></li>
            </ul>

            <form class="navbar-form navbar-right" id="search" action="/SEGreg/searchAll" method="post">
                    <input name=_csrf_token type=hidden value="{{ csrf_token() }}">
                    <input type="text" class="form-control" placeholder="search" title="Input a tissue name or gene name" value="liver" name="term">
                    <button type="submit" class="btn btn-default">Search</button>
            </form>
        </nav>
    </div>
</header>

<div class="container bs-docs-container" >
{#<div>#}
<script type="text/javascript" src="/static/SEGreg/cytoscape/js/min/json2.min.js"></script>
<script type="text/javascript" src="/static/SEGreg/cytoscape/js/min/AC_OETags.min.js"></script>
<script type="text/javascript" src="/static/SEGreg/cytoscape/js/min/cytoscapeweb.min.js"></script>

<h3>Regulatory network of {{ genename }} gene in {{ tname }} {{ tissuename }} tissue</h3>
<div id="cytoscapeweb" style="width:1200px;height:800px;"></div>
<script type="text/javascript">
{#var xml = '\<graphml>\<key id="label" for="all" attr.name="label" attr.type="string"/>\<key id="weight" for="node" attr.name="weight" attr.type="double"/>\<graph edgedefault="directed">\<node id="-1"><data key="label">let-7a-5p</data></node>\<node id="0"><data key="label">RACCYCD</data></node>\<node id="1"><data key="label">CASPASE</data></node>\<node id="2"><data key="label">SKP2E2F</data></node>\<node id="3"><data key="label">P27</data></node>\<node id="4"><data key="label">EF</data></node>\<node id="5"><data key="label">TNFR1</data></node>\<node id="6"><data key="label">G1</data></node>\<node id="7"><data key="label">RANMS</data></node>\<node id="8"><data key="label">P53</data></node>\<node id="9"><data key="label">RB</data></node>\<node id="10"><data key="label">MTA3</data></node>\<node id="11"><data key="label">HIVNEF</data></node>\<node id="12"><data key="label">CELLCYCLE</data></node>\<node id="13"><data key="label">G1</data></node>\<node id="14"><data key="label">FAS</data></node>\<node id="15"><data key="label">MCM</data></node>\<edge source="-1" target="0"></edge>\<edge source="-1" target="1"></edge>\<edge source="-1" target="2"></edge>\<edge source="-1" target="3"></edge>\<edge source="-1" target="4"></edge>\<edge source="-1" target="5"></edge>\<edge source="-1" target="6"></edge>\<edge source="-1" target="7"></edge>\<edge source="-1" target="8"></edge>\<edge source="-1" target="9"></edge>\<edge source="-1" target="10"></edge>\<edge source="-1" target="11"></edge>\<edge source="-1" target="12"></edge>\<edge source="-1" target="13"></edge>\<edge source="-1" target="14"></edge>\<edge source="-1" target="15"></edge>\            </graph>\#}
{#            </graphml>\#}
{#            ';#}
var xml = '{{ total_data|safe }}
';
        var visual_style = {
            nodes: {
                        borderColor: "#FFFFFF",
                        borderWidth: 0,
						size: 40,
                        color: {
                            discreteMapper: {
                                attrName: "id",
                                entries: [
                                    { attrValue: -1, value: "#FFF68F" },
{#                                    { attrValue: 0, value: "#50b7c1" },{ attrValue: 1, value: "#50b7c1" },{ attrValue: 2, value: "#50b7c1" },{ attrValue: 3, value: "#50b7c1" },{ attrValue: 4, value: "#50b7c1" },{ attrValue: 5, value: "#50b7c1" },{ attrValue: 6, value: "#50b7c1" },{ attrValue: 7, value: "#50b7c1" },{ attrValue: 8, value: "#50b7c1" },{ attrValue: 9, value: "#50b7c1" },{ attrValue: 10, value: "#50b7c1" },{ attrValue: 11, value: "#50b7c1" },{ attrValue: 12, value: "#50b7c1" },{ attrValue: 13, value: "#50b7c1" },{ attrValue: 14, value: "#50b7c1" },{ attrValue: 15, value: "#50b7c1" },#}
                                    {{ total_attr|safe }}
                                   ]
                            }
                        },
                        labelHorizontalAnchor: "center",
						labelFontSize: 16,
						labelFontColor: "#000000",
						labelFontWeight: "bold"
                    }
        }


    //swf path
    var options = { swfPath: "/static/SEGreg/cytoscape/swf/CytoscapeWeb"}

    // init and draw
    var vis = new org.cytoscapeweb.Visualization("cytoscapeweb",options);
    vis.draw({ network: xml, visualStyle: visual_style });
</script>

{#</div>#}
{#<div align="center"><p><b>Color:&nbsp</b> Yellow:&nbsp gene; Blue:&nbsp miRNA;Purple:&nbsp TF</p></div>#}
</body>
</html>
<footer class="bs-docs-footer" role="contentinfo" >
    <div class="container" >
        <p class="container text-center">Copyright &copy;<a href="http://bioinfo.life.hust.edu.cn/" target=_self> Guo Lab</a>,<a href="http://life.hust.edu.cn/" target=_self>&nbsp;College of Life Science and Technology</a>,<a href="http://www.hust.edu.cn" target=_self> HUST</a>, China</p>
        <p class="container text-center">Any comments and suggestions, please <a href="/SEGreg/contact">contact us</a></p>
    </div></footer>

{#var xml = '<graphml><key id="label" for="all" attr.name="label" attr.type="string"/><key id="weight" for="node" attr.name="weight" attr.type="double"/><graph edgedefault="directed"><node id="-1"><data key="label">let-7a-5p</data></node><node id="0"><data key="label">RACCYCD</data></node><node id="1"><data key="label">CASPASE</data></node><node id="2"><data key="label">SKP2E2F</data></node><node id="3"><data key="label">P27</data></node><node id="4"><data key="label">EF</data></node><node id="5"><data key="label">TNFR1</data></node><node id="6"><data key="label">G1</data></node><node id="7"><data key="label">RANMS</data></node><node id="8"><data key="label">P53</data></node><node id="9"><data key="label">RB</data></node><node id="10"><data key="label">MTA3</data></node><node id="11"><data key="label">HIVNEF</data></node><node id="12"><data key="label">CELLCYCLE</data></node><node id="13"><data key="label">G1</data></node><node id="14"><data key="label">FAS</data></node><node id="15"><data key="label">MCM</data></node><edge source="-1" target="0"></edge><edge source="-1" target="1"></edge><edge source="-1" target="2"></edge><edge source="-1" target="3"></edge><edge source="-1" target="4"></edge><edge source="-1" target="5"></edge><edge source="-1" target="6"></edge><edge source="-1" target="7"></edge><edge source="-1" target="8"></edge><edge source="-1" target="9"></edge><edge source="-1" target="10"></edge><edge source="-1" target="11"></edge><edge source="-1" target="12"></edge><edge source="-1" target="13"></edge><edge source="-1" target="14"></edge><edge source="-1" target="15"></edge></graph></graphml>';#}
